{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"LstCofaCredit":{"sourceUuid":"710e0457-1d1d-4402-af8a-9a9a045a4e45","name":"LstCofaCredit","program":"EXT001MI","description":"Recherche des enregistrements pour COFA Crédit","active":true,"multi":true,"modified":1697716469406,"modifiedBy":"FRALEP","outputFields":[{"name":"YEA4","description":"Number","length":4,"mandatory":false,"type":"N"},{"name":"JRNO","description":"Journal number","length":7,"mandatory":false,"type":"N"},{"name":"JSNO","description":"Journal sequence number","length":7,"mandatory":false,"type":"N"},{"name":"CUNO","description":"Customer","length":10,"mandatory":false,"type":"A"},{"name":"PYNO","description":"Payer","length":10,"mandatory":false,"type":"A"},{"name":"IVDT","description":"Invoice date","length":8,"mandatory":false,"type":"N"},{"name":"DUDT","description":"Due date","length":8,"mandatory":false,"type":"N"},{"name":"RMBL","description":"Payment reminder stop","length":1,"mandatory":false,"type":"N"},{"name":"PYCD","description":"Payment method - accounts receivable","length":3,"mandatory":false,"type":"A"},{"name":"CUCD","description":"Currency","length":3,"mandatory":false,"type":"A"},{"name":"CUAM","description":"Foreign currency amount","length":15,"mandatory":false,"type":"N"},{"name":"PYRS","description":"Remittance status","length":2,"mandatory":false,"type":"A"},{"name":"RMST","description":"Status - payment reminder","length":1,"mandatory":false,"type":"N"},{"name":"TEPY","description":"Payment terms","length":3,"mandatory":false,"type":"A"},{"name":"CINO","description":"Invoice number","length":15,"mandatory":false,"type":"A"},{"name":"VTXT","description":"Voucher text","length":40,"mandatory":false,"type":"A"},{"name":"SENS","description":"D = Débit, C = Crédit","length":1,"mandatory":false,"type":"A"}],"inputFields":[{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A"},{"name":"ISFR","description":"If = 1, CSCD = FR, if = 0, CFCD != FR","length":1,"mandatory":true,"type":"N"},{"name":"CFC8","description":"User defined field 8","length":3,"mandatory":false,"type":"A"},{"name":"CUCD","description":"Currency","length":3,"mandatory":false,"type":"A"},{"name":"FC10","description":"Si FC10 = 1, TRCD = 10, si FC10 = 0 alors R+TRCD != 10","length":1,"mandatory":true,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"710e0457-1d1d-4402-af8a-9a9a045a4e45":{"uuid":"710e0457-1d1d-4402-af8a-9a9a045a4e45","updated":1701685156583,"updatedBy":"FRALEP","created":1697700011099,"createdBy":"FRALEP","apiVersion":"0.21","beVersion":"16.0.0.20230918173517.8","language":"GROOVY","codeHash":"70FDBA89B2D815BB95600141449DA2AFFD0B24B372FF2369130DA362C38BE6F3","code":"LyoqDQogKiBSRUFETUUNCiAqIEFQSSBzcMOpY2lmaXF1ZSBhZmluIGRlIGNyb2lzZXIgT0NVU01BLCBGU0xFREcgZXQgRkdMRURHIHBvdXIgbGVzIGludGVyZmFjZXMgQ09GQSBDcsOpZGl0DQogKg0KICogTmFtZTogTHN0Q29mYUNyZWRpdA0KICogRGVzY3JpcHRpb246IA0KICogRGF0ZSAgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24NCiAqIDIwMjMxMDE5ICAgRnJhbsOnb2lzIExlcHLDqXZvc3QgICAgICAgICAgICAgQ3LDqWF0aW9uIHZlcmJlIExzdENvZmFDcmVkaXQNCiAqLw0KcHVibGljIGNsYXNzIExzdENvZmFDcmVkaXQgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQ0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlDQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtDQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5DQogIA0KICBwdWJsaWMgTHN0Q29mYUNyZWRpdChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UgLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBVdGlsaXR5QVBJIHV0aWxpdHkpIHsNCiAgICB0aGlzLm1pID0gbWkNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogICAgdGhpcy51dGlsaXR5ID0gdXRpbGl0eQ0KICB9DQogIA0KICBpbnQgY29ubyA9IDANCiAgU3RyaW5nIGRpdmkgPSAiIg0KICBTdHJpbmcgY2ZjOCA9ICIiDQogIFN0cmluZyBjdWNkID0gIiINCiAgaW50IGlzZnIgPSAwDQogIGludCBmYzEwID0gMA0KICANCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBjb25vID0gKEludGVnZXIpIHByb2dyYW0uZ2V0TERBWkQoKS5DT05PDQogICAgZGl2aSA9IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCkNCiAgICBTdHJpbmcgaXNmclJlY3UgPSBtaS5pbkRhdGEuZ2V0KCJJU0ZSIikudHJpbSgpDQogICAgY2ZjOCA9IG1pLmluRGF0YS5nZXQoIkNGQzgiKS50cmltKCkNCiAgICBjdWNkID0gbWkuaW5EYXRhLmdldCgiQ1VDRCIpLnRyaW0oKQ0KICAgIFN0cmluZyBmYzEwUmVjdSA9IG1pLmluRGF0YS5nZXQoIkZDMTAiKS50cmltKCkNCiAgICANCiAgICBpZiAoZGl2aS5pc0VtcHR5KCkpIHsNCiAgICAgIG1pLmVycm9yKCJMYSBkaXZpc2lvbiBlc3Qgb2JsaWdhdG9pcmUuIikNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSBpZiAoIWNoZWNrRGl2aUV4aXN0KCkpIHsNCiAgICAgIG1pLmVycm9yKCJMYSBkaXZpc2lvbiBlc3QgaW5leGlzdGFudGUuIikNCiAgICAgIHJldHVybg0KICAgIH0NCiAgICANCiAgICBpZiAoaXNmclJlY3UuaXNFbXB0eSgpKSB7DQogICAgICBtaS5lcnJvcigiTGUgY2hhbXAgSVNGUiBlc3Qgb2JsaWdhdG9pcmUuIikNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSBpZiAoIWlzZnJSZWN1LmVxdWFscygiMSIpICYmICFpc2ZyUmVjdS5lcXVhbHMoIjAiKSkgew0KICAgICAgbWkuZXJyb3IoIkxlIGNoYW1wIElTRlIgYWNjZXB0ZSB1bmlxdWVtZW50IGxlcyB2YWxldXJzIDAgb3UgMS4iKQ0KICAgICAgcmV0dXJuDQogICAgfSBlbHNlIHsNCiAgICAgIGlzZnIgPSBJbnRlZ2VyLnBhcnNlSW50KGlzZnJSZWN1KQ0KICAgIH0NCiAgICANCiAgICBpZiAoZmMxMFJlY3UuaXNFbXB0eSgpKSB7DQogICAgICBtaS5lcnJvcigiTGUgY2hhbXAgRkMxMCBlc3Qgb2JsaWdhdG9pcmUuIikNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSBpZiAoIWZjMTBSZWN1LmVxdWFscygiMSIpICYmICFmYzEwUmVjdS5lcXVhbHMoIjAiKSkgew0KICAgICAgbWkuZXJyb3IoIkxlIGNoYW1wIEZDMTAgYWNjZXB0ZSB1bmlxdWVtZW50IGxlcyB2YWxldXJzIDAgb3UgMS4iKQ0KICAgICAgcmV0dXJuDQogICAgfSBlbHNlIHsNCiAgICAgIGZjMTAgPSBJbnRlZ2VyLnBhcnNlSW50KGZjMTBSZWN1KQ0KICAgIH0NCiAgICANCiAgICBzZWFyY2hDdXN0b21lcnMoKQ0KICAgIA0KICB9DQogIA0KICAvKioNCiAgKiBPbiB2w6lyaWZpZSBxdWUgbGEgRElWSSBleGlzdGUNCiAgKi8NCiAgcHJpdmF0ZSBib29sZWFuIGNoZWNrRGl2aUV4aXN0KCkgew0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkNNTkRJViIpLmluZGV4KCIwMCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIGNvbnRhaW5lci5zZXQoIkNDQ09OTyIsIGNvbm8pDQogICAgY29udGFpbmVyLnNldCgiQ0NESVZJIiwgZGl2aSkNCiAgICANCiAgICByZXR1cm4gcXVlcnkucmVhZChjb250YWluZXIpDQogIH0NCiAgDQogIC8qKg0KICAqIFJlY2hlcmNoZSBkZSBsYSBsaXN0ZSBkZXMgY2xpZW50cyBlbiBmaWx0cmFudCBzdXIgQ0ZDOCBldCBDU0NELg0KICAqLw0KICBwcml2YXRlIHZvaWQgc2VhcmNoQ3VzdG9tZXJzKCkgew0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9DVVNNQSIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiT0tDVU5PIiwgIk9LQ0ZDOCIsICJPS0NTQ0QiKS5idWlsZCgpDQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICBjb250YWluZXIuc2V0KCJPS0NPTk8iLCBjb25vKQ0KICAgIA0KICAgIENsb3N1cmU8Pz4gcmVsZWFzZWRDdXN0b21lclByb2Nlc3NvciA9IHsNCiAgICAgIERCQ29udGFpbmVyIGRhdGEgLT4NCiAgICAgIA0KICAgICAgU3RyaW5nIENVTk8gPSBTdHJpbmcudmFsdWVPZihkYXRhLmdldCgiT0tDVU5PIikpLnRyaW0oKQ0KICAgICAgU3RyaW5nIENGQzggPSBTdHJpbmcudmFsdWVPZihkYXRhLmdldCgiT0tDRkM4IikpLnRyaW0oKQ0KICAgICAgU3RyaW5nIENTQ0QgPSBTdHJpbmcudmFsdWVPZihkYXRhLmdldCgiT0tDU0NEIikpLnRyaW0oKQ0KICAgICAgDQogICAgICBpZiAoQ0ZDOC5lcXVhbHMoY2ZjOCkpIHsNCiAgICAgICAgaWYgKChpc2ZyID09IDEgJiYgQ1NDRC5lcXVhbHMoIkZSIikpIHx8IChpc2ZyID09IDAgJiYgIUNTQ0QuZXF1YWxzKCJGUiIpKSkgew0KICAgICAgICAgIHNlYXJjaEZzbGVkZ0VucmVncyhDVU5PKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgICANCiAgICBpbnQgcGFnZVNpemUgPSBtaS5nZXRNYXhSZWNvcmRzKCkgPD0gMCB8fCBtaS5nZXRNYXhSZWNvcmRzKCkgPj0gMTAwMDAgPyAxMDAwMDogbWkuZ2V0TWF4UmVjb3JkcygpDQogICAgcXVlcnkucmVhZEFsbChjb250YWluZXIsIDEsIHBhZ2VTaXplLCByZWxlYXNlZEN1c3RvbWVyUHJvY2Vzc29yKQ0KICB9DQogIA0KICAvKioNCiAgKiBSZWNoZXJjaGUgZGVzIGZhY3R1cmVzIGRhbnMgRlNMRURHIHBvdXIgbGVzIGNsaWVudHMgdHJvdXbDqXMgcHLDqWPDqWRlbW1lbnQuDQogICovDQogIHByaXZhdGUgc2VhcmNoRnNsZWRnRW5yZWdzKFN0cmluZyBjdW5vKSB7DQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRlNMRURHIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4KCI0MCIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGxGaWVsZHMoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgY29udGFpbmVyLnNldCgiRVNDT05PIiwgY29ubykNCiAgICBjb250YWluZXIuc2V0KCJFU0RJVkkiLCBkaXZpKQ0KICAgIGNvbnRhaW5lci5zZXQoIkVTQ1VOTyIsIGN1bm8pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgIENsb3N1cmU8Pz4gcmVsZWFzZWRGc2xlZGdQcm9jZXNzb3IgPSB7DQogICAgICBEQkNvbnRhaW5lciBkYXRhIC0+DQogICAgICBkb3VibGUgY3VhbSA9IChkb3VibGUpIGRhdGEuZ2V0KCJFU0NVQU0iKQ0KICAgICAgaW50IGlpY2QgPSAoaW50KSBkYXRhLmdldCgiRVNJSUNEIikNCiAgICAgIGludCB0cmNkID0gKGludCkgZGF0YS5nZXQoIkVTVFJDRCIpDQogICAgICBTdHJpbmcgY3VjZEZzbGVkZyA9IFN0cmluZy52YWx1ZU9mKGRhdGEuZ2V0KCJFU0NVQ0QiKSkudHJpbSgpDQogICAgICANCiAgICAgIGlmIChjdWFtICE9IDBkICYmIGlpY2QgIT0gOSAmJiBjdWNkLmVxdWFscyhjdWNkRnNsZWRnKSkgew0KICAgICAgICBpZiAoKGZjMTAgPT0gMSAmJiB0cmNkID09IDEwKSB8fCAoZmMxMCA9PSAwICYmIHRyY2QgIT0gMTApKSB7DQogICAgICAgICAgc2VhcmNoRmdsZWRnKGRhdGEsIGN1bm8pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgaW50IHBhZ2VTaXplID0gbWkuZ2V0TWF4UmVjb3JkcygpIDw9IDAgfHwgbWkuZ2V0TWF4UmVjb3JkcygpID49IDEwMDAwID8gMTAwMDA6IG1pLmdldE1heFJlY29yZHMoKQ0KICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAzLCBwYWdlU2l6ZSwgcmVsZWFzZWRGc2xlZGdQcm9jZXNzb3IpDQogIH0NCiAgDQogIC8qKg0KICAqIFJlY2hlcmNoZSBkdSBWVFhUIGRhbnMgRkdMRURHDQogICovDQogIHByaXZhdGUgc2VhcmNoRmdsZWRnKERCQ29udGFpbmVyIGRhdGFGc2xlZGcsIFN0cmluZyBjdW5vKSB7DQogICAgaW50IGpybm8gPSAoaW50KSBkYXRhRnNsZWRnLmdldCgiRVNKUk5PIikNCiAgICBpbnQganNubyA9IChpbnQpIGRhdGFGc2xlZGcuZ2V0KCJFU0pTTk8iKQ0KICAgIGludCB5ZWE0ID0gKGludCkgZGF0YUZzbGVkZy5nZXQoIkVTWUVBNCIpIA0KICAgIA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkZHTEVERyIpLmluZGV4KCIwMCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIGNvbnRhaW5lci5zZXQoIkVHQ09OTyIsIGNvbm8pDQogICAgY29udGFpbmVyLnNldCgiRUdESVZJIiwgZGl2aSkNCiAgICBjb250YWluZXIuc2V0KCJFR1lFQTQiLCB5ZWE0KQ0KICAgIGNvbnRhaW5lci5zZXQoIkVHSlJOTyIsIGpybm8pDQogICAgY29udGFpbmVyLnNldCgiRUdKU05PIiwganNubykNCiAgICANCiAgICBDbG9zdXJlPD8+IHJlbGVhc2VkRnNsZWRnUHJvY2Vzc29yID0gew0KICAgICAgREJDb250YWluZXIgZGF0YSAtPg0KICAgICAgDQogICAgICBtaS5vdXREYXRhLnB1dCgiVlRYVCIsIFN0cmluZy52YWx1ZU9mKGRhdGEuZ2V0KCJFR1ZUWFQiKSkpDQogICAgICBtaS5vdXREYXRhLnB1dCgiU0VOUyIsIFN0cmluZy52YWx1ZU9mKGRhdGEuZ2V0KCJFR0RCQ1IiKSkpDQogICAgfQ0KICAgIA0KICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA1LCByZWxlYXNlZEZzbGVkZ1Byb2Nlc3NvcikNCiAgICANCiAgICBtaS5vdXREYXRhLnB1dCgiQ1VOTyIsIGN1bm8pDQogICAgbWkub3V0RGF0YS5wdXQoIllFQTQiLCBTdHJpbmcudmFsdWVPZih5ZWE0KSkNCiAgICBtaS5vdXREYXRhLnB1dCgiSlJOTyIsIFN0cmluZy52YWx1ZU9mKGpybm8pKQ0KICAgIG1pLm91dERhdGEucHV0KCJKU05PIiwgU3RyaW5nLnZhbHVlT2YoanNubykpDQogICAgbWkub3V0RGF0YS5wdXQoIlBZTk8iLCBTdHJpbmcudmFsdWVPZihkYXRhRnNsZWRnLmdldCgiRVNQWU5PIikpKQ0KICAgIG1pLm91dERhdGEucHV0KCJJVkRUIiwgU3RyaW5nLnZhbHVlT2YoZGF0YUZzbGVkZy5nZXQoIkVTSVZEVCIpKSkNCiAgICBtaS5vdXREYXRhLnB1dCgiRFVEVCIsIFN0cmluZy52YWx1ZU9mKGRhdGFGc2xlZGcuZ2V0KCJFU0RVRFQiKSkpDQogICAgbWkub3V0RGF0YS5wdXQoIlJNQkwiLCBTdHJpbmcudmFsdWVPZihkYXRhRnNsZWRnLmdldCgiRVNSTUJMIikpKQ0KICAgIG1pLm91dERhdGEucHV0KCJQWUNEIiwgU3RyaW5nLnZhbHVlT2YoZGF0YUZzbGVkZy5nZXQoIkVTUFlDRCIpKSkNCiAgICBtaS5vdXREYXRhLnB1dCgiQ1VDRCIsIFN0cmluZy52YWx1ZU9mKGRhdGFGc2xlZGcuZ2V0KCJFU0NVQ0QiKSkpDQogICAgZG91YmxlIGN1YW0gPSAoZG91YmxlKSBkYXRhRnNsZWRnLmdldCgiRVNDVUFNIikNCiAgICBtaS5vdXREYXRhLnB1dCgiQ1VBTSIsIFN0cmluZy52YWx1ZU9mKGN1YW0pKQ0KICAgIG1pLm91dERhdGEucHV0KCJQWVJTIiwgU3RyaW5nLnZhbHVlT2YoZGF0YUZzbGVkZy5nZXQoIkVTUFlSUyIpKSkNCiAgICBtaS5vdXREYXRhLnB1dCgiUk1TVCIsIFN0cmluZy52YWx1ZU9mKGRhdGFGc2xlZGcuZ2V0KCJFU1JNU1QiKSkpDQogICAgbWkub3V0RGF0YS5wdXQoIlRFUFkiLCBTdHJpbmcudmFsdWVPZihkYXRhRnNsZWRnLmdldCgiRVNURVBZIikpKQ0KICAgIG1pLm91dERhdGEucHV0KCJDSU5PIiwgU3RyaW5nLnZhbHVlT2YoZGF0YUZzbGVkZy5nZXQoIkVTQ0lOTyIpKSkNCiANCiAgICBtaS53cml0ZSgpDQogIH0NCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCn0="}}}